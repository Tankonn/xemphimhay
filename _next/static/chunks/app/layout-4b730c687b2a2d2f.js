(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{12201:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(12115),o=r(49172),s=r(39496);let l=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,a.useRef)(t),l=function(){let[,e]=a.useReducer(e=>e+1,0);return e}(),c=(0,s.Ay)();return(0,o.A)(()=>{let t=c.subscribe(t=>{r.current=t,e&&l()});return()=>c.unsubscribe(t)},[]),r.current}},13020:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,62093,23)),Promise.resolve().then(r.t.bind(r,27735,23)),Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.bind(r,30957))},27735:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_3c7305",variable:"__variable_3c7305"}},30347:()=>{},30957:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var a=r(95155),o=r(11518),s=r.n(o),l=r(12115),c=r(6874),n=r.n(c),i=r(70366),d=r(16428),m=r(30662),u=r(75032),f=r(26186),p=r(16278),h=r(50274),x=r(13993);let b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};var g=r(61770);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let v=l.forwardRef((e,t)=>l.createElement(g.A,y({},e,{ref:t,icon:b})));var j=r(16243);let w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let O=l.forwardRef((e,t)=>l.createElement(g.A,A({},e,{ref:t,icon:w})));var N=r(97555),E=r(35695);let S=()=>{let[e,t]=(0,l.useState)(!1),[r,o]=(0,l.useState)(""),[c,b]=(0,l.useState)(!1),[g]=i.A.useForm(),[y,w]=(0,l.useState)(!1),A=(0,E.useRouter)(),S=(0,l.useCallback)(async e=>{try{let t=await fetch("https://webxemphim-4vr4.onrender.com//auth/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();o(e.username||"User"),localStorage.setItem("username",e.username),e._id&&localStorage.setItem("userId",e._id),g.setFieldsValue({username:e.username,email:e.email,bio:e.bio})}}catch(e){console.error("Error fetching user profile:",e),o("User")}},[g]);(0,l.useEffect)(()=>{let e=localStorage.getItem("token");if(e){t(!0);let r=localStorage.getItem("username");r?o(r):S(e)}},[S]);let C=async e=>{try{w(!0);let r=localStorage.getItem("token");if(!r)return void d.Ay.error("Please login again");let a=await fetch("https://webxemphim-4vr4.onrender.com//users/profile",{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();if(e.success)d.Ay.success("Profile updated successfully"),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userId"),t(!1),o(""),b(!1),window.location.reload(),A.push("/login");else throw Error(e.message||"Failed to update profile")}else{let e=await a.json();throw Error(e.message||"Failed to update profile")}}catch(e){console.error("Error updating profile:",e),d.Ay.error(e instanceof Error?e.message:"Failed to update profile")}finally{w(!1)}};return(0,a.jsxs)("header",{className:"jsx-129427d887d0cb13 bg-gray-900 border-b border-gray-800",children:[(0,a.jsx)("div",{className:"jsx-129427d887d0cb13 container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"jsx-129427d887d0cb13 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"jsx-129427d887d0cb13 flex items-center",children:[(0,a.jsx)(n(),{href:"/home",className:"text-red-500 font-bold text-2xl",children:"ANIME"}),(0,a.jsx)("nav",{className:"jsx-129427d887d0cb13 hidden md:flex ml-8 space-x-1"})]}),(0,a.jsx)("div",{className:"jsx-129427d887d0cb13 flex items-center space-x-4",children:e?(0,a.jsx)("div",{className:"jsx-129427d887d0cb13 flex items-center space-x-3",children:(0,a.jsxs)("div",{className:"jsx-129427d887d0cb13 relative group",children:[(0,a.jsxs)(m.Ay,{type:"text",className:"flex items-center space-x-2 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-lg transition-all duration-200 border border-gray-700 group-hover:border-red-500",children:[(0,a.jsx)(u.A,{icon:(0,a.jsx)(h.A,{}),className:"bg-red-500 group-hover:scale-110 transition-transform",size:"small"}),(0,a.jsx)("span",{className:"jsx-129427d887d0cb13 text-white font-medium group-hover:text-red-500 transition-colors",children:r||"User"}),(0,a.jsx)("div",{className:"jsx-129427d887d0cb13 absolute -bottom-1 left-0 w-full h-0.5 bg-red-500 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]}),(0,a.jsx)("div",{className:"jsx-129427d887d0cb13 absolute right-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-lg border border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,a.jsxs)("div",{className:"jsx-129427d887d0cb13 py-1",children:[(0,a.jsxs)(n(),{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-red-500",children:[(0,a.jsx)(h.A,{className:"mr-2"}),"My Profile"]}),(0,a.jsxs)("button",{onClick:()=>b(!0),className:"jsx-129427d887d0cb13 w-full flex items-center px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-red-500",children:[(0,a.jsx)(x.A,{className:"mr-2"}),"Edit Profile"]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),t(!1),o(""),window.location.reload()},className:"jsx-129427d887d0cb13 w-full flex items-center px-4 py-2 text-sm text-gray-200 hover:bg-red-500 hover:text-white border-t border-gray-700",children:[(0,a.jsx)(v,{className:"mr-2"}),"Sign Out"]})]})})]})}):(0,a.jsxs)("div",{className:"jsx-129427d887d0cb13 flex items-center space-x-2",children:[(0,a.jsx)(m.Ay,{type:"text",onClick:()=>A.push("/login"),className:"flex items-center space-x-2 px-4 py-1.5 text-white hover:text-red-500 bg-gray-800 hover:bg-gray-700 rounded-lg transition-all duration-200 border border-gray-700 hover:border-red-500",icon:(0,a.jsx)(j.A,{className:"text-lg"}),children:(0,a.jsx)("span",{className:"jsx-129427d887d0cb13",children:"Sign In"})}),(0,a.jsx)(m.Ay,{type:"text",onClick:()=>A.push("/register"),className:"flex items-center space-x-2 px-4 py-1.5 text-white bg-red-500 hover:bg-red-600 rounded-lg transition-all duration-200 border-none shadow-md hover:shadow-lg hover:shadow-red-500/30",icon:(0,a.jsx)(O,{className:"text-lg"}),children:(0,a.jsx)("span",{className:"jsx-129427d887d0cb13",children:"Sign Up"})})]})})]})}),(0,a.jsx)(f.A,{title:"Edit Profile",open:c,onCancel:()=>b(!1),footer:null,className:"edit-profile-modal",children:(0,a.jsxs)(i.A,{form:g,layout:"vertical",onFinish:C,className:"mt-4",children:[(0,a.jsx)(i.A.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!"}],children:(0,a.jsx)(p.A,{prefix:(0,a.jsx)(h.A,{}),placeholder:"Username"})}),(0,a.jsx)(i.A.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Please enter a valid email!"}],children:(0,a.jsx)(p.A,{prefix:(0,a.jsx)(N.A,{}),placeholder:"Email"})}),(0,a.jsx)(i.A.Item,{name:"bio",label:"Bio",children:(0,a.jsx)(p.A.TextArea,{placeholder:"Tell us about yourself...",rows:4})}),(0,a.jsxs)(i.A.Item,{className:"mb-0 flex justify-end",children:[(0,a.jsx)(m.Ay,{onClick:()=>b(!1),className:"mr-2",children:"Cancel"}),(0,a.jsx)(m.Ay,{type:"primary",htmlType:"submit",loading:y,children:"Save Changes"})]})]})}),(0,a.jsx)(s(),{id:"129427d887d0cb13",children:".edit-profile-modal .ant-modal-content{background-color:#1F2937;border:1px solid#374151}.edit-profile-modal .ant-modal-header{background-color:#1F2937;border-bottom:1px solid#374151}.edit-profile-modal .ant-modal-title{color:#F3F4F6}.edit-profile-modal .ant-modal-close{color:#F3F4F6}.edit-profile-modal .ant-form-item-label>label{color:#F3F4F6}.edit-profile-modal .ant-input,.edit-profile-modal .ant-input-textarea{background-color:#374151;border-color:#4B5563;color:#F3F4F6}.edit-profile-modal .ant-input:hover,.edit-profile-modal .ant-input:focus,.edit-profile-modal .ant-input-textarea:hover,.edit-profile-modal .ant-input-textarea:focus{border-color:#EF4444}.edit-profile-modal .ant-btn-primary{background-color:#EF4444;border-color:#EF4444}.edit-profile-modal .ant-btn-primary:hover{background-color:#DC2626;border-color:#DC2626}"})]})}},39496:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>n,ye:()=>s});var a=r(12115),o=r(85954);let s=["xxl","xl","lg","md","sm","xs"],l=e=>({xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}),c=e=>{let t=[].concat(s).reverse();return t.forEach((r,a)=>{let o=r.toUpperCase(),s="screen".concat(o,"Min"),l="screen".concat(o);if(!(e[s]<=e[l]))throw Error("".concat(s,"<=").concat(l," fails : !(").concat(e[s],"<=").concat(e[l],")"));if(a<t.length-1){let r="screen".concat(o,"Max");if(!(e[l]<=e[r]))throw Error("".concat(l,"<=").concat(r," fails : !(").concat(e[l],"<=").concat(e[r],")"));let s=t[a+1].toUpperCase(),c="screen".concat(s,"Min");if(!(e[r]<=e[c]))throw Error("".concat(r,"<=").concat(c," fails : !(").concat(e[r],"<=").concat(e[c],")"))}}),e},n=()=>{let[,e]=(0,o.Ay)(),t=l(c(e));return a.useMemo(()=>{let e=new Map,r=-1,a={};return{responsiveMap:t,matchHandlers:{},dispatch:t=>(a=t,e.forEach(e=>e(a)),e.size>=1),subscribe(t){return e.size||this.register(),r+=1,e.set(r,t),t(a),r},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.keys(t).forEach(e=>{let r=t[e],o=t=>{let{matches:r}=t;this.dispatch(Object.assign(Object.assign({},a),{[e]:r}))},s=window.matchMedia(r);s.addListener(o),this.matchHandlers[r]={mql:s,listener:o},o(s)})},unregister(){Object.keys(t).forEach(e=>{let r=t[e],a=this.matchHandlers[r];null==a||a.mql.removeListener(null==a?void 0:a.listener)}),e.clear()}}},[e])}},62093:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_2401d8",variable:"__variable_2401d8"}},62623:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(12115),o=r(29300),s=r.n(o),l=r(15982),c=r(71960),n=r(50199),i=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)0>t.indexOf(a[o])&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};function d(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}let m=["xs","sm","md","lg","xl","xxl"],u=a.forwardRef((e,t)=>{let{getPrefixCls:r,direction:o}=a.useContext(l.QO),{gutter:u,wrap:f}=a.useContext(c.A),{prefixCls:p,span:h,order:x,offset:b,push:g,pull:y,className:v,children:j,flex:w,style:A}=e,O=i(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),N=r("col",p),[E,S,C]=(0,n.xV)(N),F={},k={};m.forEach(t=>{let r={},a=e[t];"number"==typeof a?r.span=a:"object"==typeof a&&(r=a||{}),delete O[t],k=Object.assign(Object.assign({},k),{["".concat(N,"-").concat(t,"-").concat(r.span)]:void 0!==r.span,["".concat(N,"-").concat(t,"-order-").concat(r.order)]:r.order||0===r.order,["".concat(N,"-").concat(t,"-offset-").concat(r.offset)]:r.offset||0===r.offset,["".concat(N,"-").concat(t,"-push-").concat(r.push)]:r.push||0===r.push,["".concat(N,"-").concat(t,"-pull-").concat(r.pull)]:r.pull||0===r.pull,["".concat(N,"-rtl")]:"rtl"===o}),r.flex&&(k["".concat(N,"-").concat(t,"-flex")]=!0,F["--".concat(N,"-").concat(t,"-flex")]=d(r.flex))});let P=s()(N,{["".concat(N,"-").concat(h)]:void 0!==h,["".concat(N,"-order-").concat(x)]:x,["".concat(N,"-offset-").concat(b)]:b,["".concat(N,"-push-").concat(g)]:g,["".concat(N,"-pull-").concat(y)]:y},v,k,S,C),I={};if(u&&u[0]>0){let e=u[0]/2;I.paddingLeft=e,I.paddingRight=e}return w&&(I.flex=d(w),!1!==f||I.minWidth||(I.minWidth=0)),E(a.createElement("div",Object.assign({},O,{style:Object.assign(Object.assign(Object.assign({},I),A),F),className:P,ref:t}),j))})},71960:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(12115).createContext)({})},90510:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var a=r(12115),o=r(29300),s=r.n(o),l=r(39496),c=r(15982),n=r(12201),i=r(71960),d=r(50199),m=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)0>t.indexOf(a[o])&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};function u(e,t){let[r,o]=a.useState("string"==typeof e?e:""),s=()=>{if("string"==typeof e&&o(e),"object"==typeof e)for(let r=0;r<l.ye.length;r++){let a=l.ye[r];if(!t||!t[a])continue;let s=e[a];if(void 0!==s)return void o(s)}};return a.useEffect(()=>{s()},[JSON.stringify(e),t]),r}let f=a.forwardRef((e,t)=>{let{prefixCls:r,justify:o,align:f,className:p,style:h,children:x,gutter:b=0,wrap:g}=e,y=m(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:v,direction:j}=a.useContext(c.QO),w=(0,n.A)(!0,null),A=u(f,w),O=u(o,w),N=v("row",r),[E,S,C]=(0,d.L3)(N),F=function(e,t){let r=[void 0,void 0],a=Array.isArray(e)?e:[e,void 0],o=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return a.forEach((e,t)=>{if("object"==typeof e&&null!==e)for(let a=0;a<l.ye.length;a++){let s=l.ye[a];if(o[s]&&void 0!==e[s]){r[t]=e[s];break}}else r[t]=e}),r}(b,w),k=s()(N,{["".concat(N,"-no-wrap")]:!1===g,["".concat(N,"-").concat(O)]:O,["".concat(N,"-").concat(A)]:A,["".concat(N,"-rtl")]:"rtl"===j},p,S,C),P={},I=null!=F[0]&&F[0]>0?-(F[0]/2):void 0;I&&(P.marginLeft=I,P.marginRight=I);let[M,_]=F;P.rowGap=_;let z=a.useMemo(()=>({gutter:[M,_],wrap:g}),[M,_,g]);return E(a.createElement(i.A.Provider,{value:z},a.createElement("div",Object.assign({},y,{className:k,style:Object.assign(Object.assign({},P),h),ref:t}),x)))})},97555:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(12115);let o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};var s=r(61770);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let c=a.forwardRef((e,t)=>a.createElement(s.A,l({},e,{ref:t,icon:o})))}},e=>{var t=t=>e(e.s=t);e.O(0,[360,275,48,183,217,278,417,614,441,684,358],()=>t(13020)),_N_E=e.O()}]);