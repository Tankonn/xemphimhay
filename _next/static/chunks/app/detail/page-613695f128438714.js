(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{61904:(e,t,a)=>{Promise.resolve().then(a.bind(a,76036))},76036:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var s=a(95155),r=a(11518),i=a.n(r),o=a(12115),n=a(35695),l=a(66686),c=a(22515),d=a(86446),m=a(26186),x=a(30662),h=a(998),g=a(43038),p=a(37974),u=a(59474),f=a(30361),b=a(5069),y=a(9622),j=a(50274),v=a(64413),w=a(96926),k=a(53867),N=a(44318),A=a(81730),S=a(16913);let{Title:C,Paragraph:F,Text:E}=l.A,{TabPane:I}=c.A;function z(){var e,t;let a=(0,n.useRouter)(),r=(0,n.useSearchParams)(),l=r.get("id"),c=(0,o.useRef)(null),[C,F]=(0,o.useState)(null),[I,z]=(0,o.useState)([]),[T,R]=(0,o.useState)([]),[D,O]=(0,o.useState)([]),[P,B]=(0,o.useState)(!0),[M,_]=(0,o.useState)(null),[U,H]=(0,o.useState)(!1),[J,L]=(0,o.useState)(""),[W,q]=(0,o.useState)(!1),[G,K]=(0,o.useState)(!1),[V,Y]=(0,o.useState)(null),[Q,X]=(0,o.useState)(0),[Z,$]=(0,o.useState)(0),[ee,et]=(0,o.useState)(!1),[ea,es]=(0,o.useState)({action:"add"}),[er,ei]=(0,o.useState)(!1),[eo,en]=(0,o.useState)(!1),[el,ec]=(0,o.useState)(null),[ed,em]=(0,o.useState)(!1),[ex,eh]=(0,o.useState)(!1),[eg,ep]=(0,o.useState)(!1),[eu,ef]=(0,o.useState)(0),[eb,ey]=(0,o.useState)(null),[ej,ev]=(0,o.useState)([]);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");if(e){H(!0);let e=localStorage.getItem("username");e&&L(e)}if(l){if((async()=>{try{B(!0),await ew(l);let t=ek(l),a=eN(l),s=eA(l);if(await Promise.all([t,a,s]),e)try{await eS(l,e)}catch(e){console.error("Error checking favorite status:",e)}}catch(e){console.error("Error fetching anime data:",e),_("Failed to load anime details. Please try again later.")}finally{B(!1)}})(),"true"===r.get("resume")){let e=r.get("episodeId")||localStorage.getItem("resumeEpisodeId");e&&localStorage.setItem("resumeEpisodeId",e)}}else _("Anime ID not provided"),B(!1)},[l,r]),(0,o.useEffect)(()=>{if(!I.length||P)return;let e=localStorage.getItem("resumeEpisodeId");if(e){let t=I.find(t=>t.id===e);if(t){ez(t);let e=localStorage.getItem("resumeTime");e&&c.current&&setTimeout(()=>{c.current&&(c.current.currentTime=parseFloat(e))},1e3),localStorage.removeItem("resumeEpisodeId"),localStorage.removeItem("resumeTime")}}},[I,P]);let ew=async e=>{try{let t=await fetch("https://webxemphim-4vr4.onrender.com//movies/".concat(e));if(!t.ok)throw Error("API error: ".concat(t.status));let a=await t.json();return F(a),_(null),a}catch(a){console.error("Error fetching anime details:",a);let t={_id:e,name:"Demon Slayer: Kimetsu no Yaiba",image:"/xemphimhay/img/anime/details-pic.jpg",cover:"/xemphimhay/img/anime/details-bg.jpg",trailer:"https://www.youtube.com/watch?v=VQGCKyvzIM4",description:"Tanjiro Kamado's life changed forever when his family was slaughtered by demons, and his sister Nezuko was transformed into one. Now, he hunts demons as a member of the Demon Slayer Corps, seeking a way to turn his sister back into a human and avenge his family.",category:"Action, Fantasy, Historical",status:"Ongoing",year:"2019",episodes:26,duration:"24 min/ep",quality:"HD",views:948e4,rating:4.9,ratingCount:1e3,studio:"ufotable"};return F(t),t}},ek=async e=>{try{let t=await fetch("https://webxemphim-4vr4.onrender.com//episodes/".concat(e));if(t.ok){let e=await t.json();z(e)}else eC()}catch(e){console.error("Error fetching episodes:",e),eC()}},eN=async e=>{try{let t=await fetch("https://webxemphim-4vr4.onrender.com//movies/related/".concat(e));if(t.ok){let e=await t.json();R(e)}else eF()}catch(e){console.error("Error fetching related anime:",e),eF()}},eA=async e=>{try{let t=await fetch("https://webxemphim-4vr4.onrender.com//reviews/".concat(e));if(t.ok){let e=await t.json();O(e)}else eE()}catch(e){console.error("Error fetching reviews:",e),eE()}},eS=async(e,t)=>{try{let a=localStorage.getItem("userId");if(!a)return;let s=await fetch("https://webxemphim-4vr4.onrender.com//favorites/user/".concat(a),{headers:{Authorization:"Bearer ".concat(t)}});if(s.ok){let t=(await s.json()).some(t=>t.movieId===e||t._id===e);q(t)}}catch(e){console.error("Error checking favorite status:",e)}},eC=()=>{let e=Array.from({length:26},(e,t)=>({id:"ep-".concat(t+1),number:t+1,title:"Episode ".concat(t+1,": ").concat(0===t?"Cruelty":1===t?"Trainer Sakonji Urokodaki":2===t?"Sabito and Makomo":"Adventure ".concat(t+1)),thumbnail:"/xemphimhay/img/anime/episodes/ep-".concat(t%5+1,".jpg"),duration:"24:15",releaseDate:"2019-".concat(Math.floor(t/4)+4,"-").concat((t%4+1)*7),watched:t<3}));z(e),e.length>0&&Y(e[0])},eF=()=>{R([{id:"1",name:"Attack on Titan",image:"/xemphimhay/img/anime/related-1.jpg",category:"Action",rating:4.8},{id:"2",name:"My Hero Academia",image:"/xemphimhay/img/anime/related-2.jpg",category:"Superhero",rating:4.7},{id:"3",name:"Jujutsu Kaisen",image:"/xemphimhay/img/anime/related-3.jpg",category:"Supernatural",rating:4.9},{id:"4",name:"Tokyo Revengers",image:"/xemphimhay/img/anime/related-4.jpg",category:"Action",rating:4.6}])},eE=()=>{O([{id:"1",username:"animefan42",avatar:"/xemphimhay/img/user/avatar-1.jpg",rating:5,comment:"This has to be one of the best anime I've ever watched. The animation quality is breathtaking, especially during the fight scenes. The story is compelling and emotional. Can't wait for the next season!",date:"2023-04-15",likes:347,dislikes:12},{id:"2",username:"otakulover",avatar:"/xemphimhay/img/user/avatar-2.jpg",rating:4.5,comment:"Great character development and beautiful animation. The music score is outstanding and really enhances the emotional impact of scenes. My only criticism is that some episodes feel a bit slow.",date:"2023-03-22",likes:215,dislikes:18},{id:"3",username:"samuraid",avatar:"/xemphimhay/img/user/avatar-3.jpg",rating:5,comment:"The fight choreography is on another level. Each battle feels unique and the animation is fluid. The story manages to balance action, humor, and emotional moments perfectly.",date:"2023-02-10",likes:189,dislikes:5}])},eI=async()=>{if(!U)return void ei(!0);en(!0);let e=localStorage.getItem("token"),t=localStorage.getItem("userId");if(!e||!t||!C){d.Ay.error({message:"Error",description:"Unable to update favorites. Please try logging in again.",placement:"topRight"}),en(!1);return}try{if(W)if((await fetch("https://webxemphim-4vr4.onrender.com//favorites/".concat(l),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).ok)q(!1),en(!1),es({action:"remove"}),et(!0);else throw Error("Failed to remove from favorites");else if((await fetch("https://webxemphim-4vr4.onrender.com//favorites",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({userId:t,movieId:l})})).ok)q(!0),en(!1),es({action:"add"}),et(!0);else throw Error("Failed to add to favorites")}catch(e){console.error("Error toggling favorite:",e),d.Ay.error({message:"Error",description:e instanceof Error?e.message:"Failed to update favorites",placement:"topRight"}),en(!1)}},ez=e=>{Y(e),K(!0),eD(),eT(e),setTimeout(()=>{let e=document.getElementById("video-player");e&&e.scrollIntoView({behavior:"smooth"})},100)},eT=async e=>{if(!e)return void console.log("Cannot save watch history: Episode data is missing");let t=localStorage.getItem("token"),a=localStorage.getItem("userId");if(!t||!a||!l)return void console.log("Unable to save watch history: User not logged in or missing data");try{let s={userId:a,movieId:l,episodeId:e.id,episodeNumber:e.number,progress:0,watched:!1,timestamp:new Date().toISOString(),duration:e.duration,image:null==C?void 0:C.image,movieName:null==C?void 0:C.name},r=await fetch("https://webxemphim-4vr4.onrender.com//watch-history",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(s)});r.ok?(console.log("Watch history saved successfully"),z(t=>t.map(t=>t.id===e.id?{...t,watched:!0}:t))):console.error("Failed to save watch history:",await r.text())}catch(e){console.error("Error saving watch history:",e)}},eR=async()=>{if(!c.current||!V||!G)return;let e=localStorage.getItem("token"),t=localStorage.getItem("userId");if(!e||!t||!l)return;let a=c.current.currentTime,s=c.current.duration;if(!a||!s||isNaN(a)||isNaN(s)||0===s)return;let r=Math.round(a/s*100);if(r%10!=0&&r<90)return;let i=r>=90;try{let a={progress:r,watched:i,timestamp:new Date().toISOString()};await fetch("https://webxemphim-4vr4.onrender.com//watch-history/user/".concat(t,"/movie/").concat(l),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(a)}),i&&V&&z(e=>e.map(e=>e.id===V.id?{...e,watched:!0}:e))}catch(e){console.error("Error updating watch progress:",e)}},eD=async()=>{if(!l)return void console.log("Cannot increment view count: animeId is undefined");console.log("Attempting to increment view count for animeId: ".concat(l));try{let e="https://webxemphim-4vr4.onrender.com//movies/add-view";console.log("Sending POST request to: ".concat(e));let t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movieId:l,userId:localStorage.getItem("userId")||"anonymous"})});if(t.ok){let e=await t.json();console.log("Success response:",e),F(t=>t?{...t,views:e.views||(t.views||0)+1}:null),console.log("View count incremented successfully")}else{console.log("View increment API failed with status: ".concat(t.status,", updating UI only"));try{let e=await t.text();console.log("Error response:",e)}catch(e){console.log("Could not read error response")}F(e=>e?{...e,views:(e.views||0)+1}:null)}}catch(e){console.log("Network error when incrementing view count:",e),console.log("Updating UI only"),F(e=>e?{...e,views:(e.views||0)+1}:null)}},eO=e=>{let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,":").concat(a<10?"0":"").concat(a)},eP=e=>e?e.startsWith("http")?e:"/xemphimhay/img/anime/".concat(e):"/xemphimhay/img/anime/default-poster.jpg",eB=async e=>{if(!U)return void ei(!0);if(!l)return void d.Ay.error({message:"Error",description:"Unable to rate movie. Missing movie ID.",placement:"topRight"});if(el===e){ef(e),ey("duplicate"),ep(!0);return}let t=localStorage.getItem("userId");if(!t)return void d.Ay.error({message:"Authentication Error",description:"Unable to identify user. Please try logging in again.",placement:"topRight"});em(!0);try{console.log("Submitting rating ".concat(e," for movie ").concat(l," by user ").concat(t));let a=await fetch("https://webxemphim-4vr4.onrender.com//movies/rate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({movieId:l,rating:e,userId:t})});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to rate movie")}let s=await a.json();if(console.log("Rating response data:",s),s.success)ec(e),F(e=>{if(!e)return null;let t=void 0!==s.rating?s.rating:e.rating,a=void 0!==s.ratingCount?s.ratingCount:(e.ratingCount||0)+1;return console.log("Updating movie rating display from ".concat(e.rating," to ").concat(t,", count from ").concat(e.ratingCount||0," to ").concat(a)),{...e,rating:t,ratingCount:a}}),d.Ay.success({message:"Rating Submitted",description:"Thank you for rating this anime!",placement:"topRight",duration:3});else throw Error(s.message||"Failed to rate movie")}catch(s){console.error("Error rating movie:",s),ef(el||e);let t="Failed to submit rating";s&&"object"==typeof s&&"message"in s&&(t=s.message);let a=t.toLowerCase();a.includes("userid")||a.includes("movieid")?(ey("missing_id"),d.Ay.error({message:"Authentication Error",description:"User ID or Movie ID is missing or invalid. Please try logging in again.",placement:"topRight",duration:3})):a.includes("rating")?(ey("invalid_rating"),d.Ay.error({message:"Invalid Rating",description:"Rating must be between 1 and 5 stars.",placement:"topRight",duration:3})):(ey("validation_error"),d.Ay.error({message:"Rating Failed",description:t,placement:"topRight",duration:3})),ep(!0)}finally{em(!1)}};return(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 bg-gray-900 text-gray-200 min-h-screen",children:[(0,s.jsx)(m.A,{open:ee,onCancel:()=>et(!1),footer:[(0,s.jsx)(x.Ay,{type:"primary",onClick:()=>et(!1),style:{backgroundColor:"add"===ea.action?"#52c41a":"#EF4444",borderColor:"add"===ea.action?"#52c41a":"#EF4444"},children:"OK"},"ok")],title:(0,s.jsx)("div",{style:{display:"flex",alignItems:"center"},className:"jsx-7ce50f64811b28d3",children:"add"===ea.action?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.A,{style:{color:"#52c41a",marginRight:"8px"}})," Added to Favorites!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{style:{color:"#EF4444",marginRight:"8px"}})," Removed from Favorites"]})}),centered:!0,width:{xs:"90%",sm:400},className:"add"===ea.action?"favorites-modal-add":"favorites-modal-remove",style:{top:100},styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:C&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex flex-col sm:flex-row items-center sm:items-start",children:[(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 w-20 h-20 mx-auto sm:mx-0 sm:mr-4 mb-4 sm:mb-0 overflow-hidden rounded",children:(0,s.jsx)("img",{src:eP(C.image),alt:C.name,className:"jsx-7ce50f64811b28d3 w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 text-center sm:text-left",children:[(0,s.jsx)("h3",{className:"jsx-7ce50f64811b28d3 text-lg font-bold mb-1",children:C.name}),"add"===ea.action?(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"Successfully added to your favorites list"}):(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"Successfully removed from your favorites list"}),C.category&&(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 mt-2 flex justify-center sm:justify-start",children:(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 badge badge-category",children:C.category})})]})]})}),(0,s.jsx)(m.A,{open:er,onCancel:()=>ei(!1),footer:[(0,s.jsx)(x.Ay,{type:"primary",onClick:()=>{ei(!1),a.push("/login")},style:{backgroundColor:"#EF4444",borderColor:"#EF4444"},children:"Go to Login"},"login"),(0,s.jsx)(x.Ay,{onClick:()=>ei(!1),children:"Cancel"},"cancel")],title:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(j.A,{style:{color:"#EF4444",marginRight:"8px"}})," Login Required"]}),centered:!0,width:{xs:"90%",sm:400},className:"favorites-modal-remove",style:{top:100},styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex flex-col sm:flex-row items-center sm:items-start",children:[C&&(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 w-20 h-20 mx-auto sm:mx-0 sm:mr-4 mb-4 sm:mb-0 overflow-hidden rounded",children:(0,s.jsx)("img",{src:eP(C.image),alt:C.name,className:"jsx-7ce50f64811b28d3 w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 text-center sm:text-left",children:[(0,s.jsx)("h3",{className:"jsx-7ce50f64811b28d3 text-lg font-bold mb-1",children:C?C.name:"This anime"}),(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"You need to be logged in to add items to your favorites list."}),(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 mt-2",children:"Would you like to go to the login page?"})]})]})}),(0,s.jsx)(m.A,{open:eg,onCancel:()=>ep(!1),footer:[(0,s.jsx)(x.Ay,{type:"primary",onClick:()=>ep(!1),style:{backgroundColor:"#EF4444",borderColor:"#EF4444"},children:"OK"},"ok")],title:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(v.A,{style:{color:"#F59E0B",marginRight:"8px"}})," Rating Issue"]}),centered:!0,width:{xs:"90%",sm:400},style:{top:100},styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 text-center",children:[(0,s.jsx)(h.A,{disabled:!0,value:eu,className:"mb-4 block mx-auto"}),"duplicate"===eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"jsx-7ce50f64811b28d3",children:["You've already rated this movie with ",eu," ",1===eu?"star":"stars","."]}),(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 mt-2",children:"Please choose a different rating if you want to change your review."})]}):"missing_id"===eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"There was a problem with your user ID or movie ID when submitting the rating."}),(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 mt-2",children:"Please try logging out and back in to refresh your session."})]}):"invalid_rating"===eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"The rating value you submitted was invalid."}),(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 mt-2",children:"Ratings must be between 1 and 5 stars."})]}):"validation_error"===eb?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"You have just rated a movie with a rating of the same value"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3",children:"An error occurred while submitting your rating."}),(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 mt-2",children:"Please try again later."})]})]})}),(0,s.jsx)("main",{className:"jsx-7ce50f64811b28d3",children:P?(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 flex justify-center items-center h-96",children:(0,s.jsx)(g.A,{size:"large"})}):M?(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 bg-red-500 bg-opacity-20 border border-red-500 text-white p-4 mb-6 rounded",children:M}),(0,s.jsx)(x.Ay,{type:"primary",onClick:()=>a.push("/home"),style:{backgroundColor:"#EF4444",borderColor:"#EF4444"},children:"Back to Home"})]}):C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 relative h-64 md:h-96 overflow-hidden",children:[(0,s.jsx)("div",{style:{backgroundImage:"url(".concat(C&&eP(C.cover||C.image),")")},className:"jsx-7ce50f64811b28d3 absolute inset-0 bg-cover bg-center"}),(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 absolute inset-0 bg-gradient-to-b from-gray-900/60 via-gray-900/80 to-gray-900"}),(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 container mx-auto px-4 relative h-full flex flex-col justify-center z-10",children:(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex flex-col md:flex-row items-center md:items-end",children:[(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 w-32 h-44 md:w-40 md:h-56 rounded overflow-hidden shadow-xl flex-shrink-0 mb-4 md:mb-0 md:mr-6 border-2 border-gray-700",children:(0,s.jsx)("img",{src:C&&eP(C.image),alt:(null==C?void 0:C.name)||"Anime poster",className:"jsx-7ce50f64811b28d3 w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 text-center md:text-left md:flex-1",children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)("h1",{className:"jsx-7ce50f64811b28d3 text-2xl md:text-4xl font-bold text-white mb-2",children:C.name}),(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 mb-4 flex flex-wrap justify-center md:justify-start gap-2",children:null==(e=C.category)?void 0:e.split(", ").map((e,t)=>(0,s.jsx)(p.A,{color:"red",className:"m-0",children:e},t))})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex space-x-2 justify-center md:justify-end mt-4 md:mt-0",children:[(0,s.jsx)(x.Ay,{type:"primary",icon:(0,s.jsx)(w.A,{}),size:"large",onClick:()=>{I.length>0?ez(I[0]):(Y({id:"main",number:1,title:"".concat(C.name," - Full Movie"),thumbnail:C.image,duration:C.duration||"1:30:00",releaseDate:C.year||new Date().toISOString()}),K(!0),eD())},style:{backgroundColor:"#EF4444",borderColor:"#EF4444",height:"40px",minWidth:"130px"},className:"watch-now-btn",children:"Watch Now"}),(0,s.jsx)(x.Ay,{type:"primary",icon:eo?(0,s.jsx)(k.A,{}):W?(0,s.jsx)(b.A,{style:{color:"white"}}):(0,s.jsx)(y.A,{style:{color:"white"}}),size:"large",onClick:eI,style:{backgroundColor:W?"#EF4444":"#1F2937",borderColor:W?"#EF4444":"#1F2937",height:"40px",minWidth:"130px"},className:"favorite-btn",children:W?"Favorited":"Favorite"}),(0,s.jsx)(x.Ay,{type:"primary",icon:(0,s.jsx)(N.A,{}),size:"large",style:{backgroundColor:"#1DA1F2",borderColor:"#1DA1F2",height:"40px",minWidth:"130px"},children:"Share"})]})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex flex-wrap justify-center md:justify-start gap-x-6 gap-y-2 mt-4",children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex items-center",children:[(0,s.jsx)(v.A,{className:"text-yellow-500 mr-1"}),(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-yellow-500 font-bold mr-1",children:(null==C||null==(t=C.rating)?void 0:t.toFixed(1))||"0.0"}),(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-gray-400",children:"/ 5"}),(0,s.jsxs)("span",{className:"jsx-7ce50f64811b28d3 text-gray-400 ml-1",children:["(",(null==C?void 0:C.ratingCount)?C.ratingCount>999?"".concat((C.ratingCount/1e3).toFixed(1),"k"):C.ratingCount:"0"," ",(null==C?void 0:C.ratingCount)===1?"rating":"user rated",")"]}),(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 ml-4 flex items-center",children:(0,s.jsx)("div",{onMouseEnter:()=>eh(!0),onMouseLeave:()=>eh(!1),className:"jsx-7ce50f64811b28d3 rating-container relative",children:ex||el?(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 "+"rating-expand ".concat(ex?"rating-active":""),children:[(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-gray-400 mr-2",children:"Your Rating:"}),(0,s.jsx)(h.A,{value:el||0,onChange:eB,allowHalf:!0,disabled:ed||!U,className:"custom-rate",tooltips:["Poor","Fair","Good","Very Good","Excellent"]}),ed&&(0,s.jsx)(k.A,{className:"ml-2"})]}):(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 rating-collapsed",children:[(0,s.jsx)(v.A,{className:"rating-trigger"}),(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 ml-1 text-sm text-gray-400",children:"Rate this"})]})})})]}),C.status&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Status"}),(0,s.jsx)(E,{style:{color:"white"},children:C.status})]}),C.year&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Released"}),(0,s.jsx)(E,{style:{color:"white"},children:C.year})]}),C.category&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Genre"}),(0,s.jsx)(E,{style:{color:"white"},children:C.category})]}),C.episodes&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Episodes"}),(0,s.jsx)(E,{style:{color:"white"},children:C.episodes})]}),C.duration&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Duration"}),(0,s.jsx)(E,{style:{color:"white"},children:C.duration})]}),C.studio&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Studio"}),(0,s.jsx)(E,{style:{color:"white"},children:C.studio})]}),C.quality&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Quality"}),(0,s.jsx)(E,{style:{color:"white"},children:C.quality})]}),C.views&&(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)(E,{style:{color:"#9CA3AF",display:"block"},children:"Views"}),(0,s.jsx)(E,{style:{color:"white"},children:C.views.toLocaleString()})]})]}),(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 mt-8",children:(0,s.jsx)(x.Ay,{type:"primary",icon:(0,s.jsx)(w.A,{}),size:"large",onClick:()=>{I.length>0?ez(I[0]):(Y({id:"main",number:1,title:"".concat(C.name," - Full Movie"),thumbnail:C.image,duration:C.duration||"1:30:00",releaseDate:C.year||new Date().toISOString()}),K(!0),eD())},style:{backgroundColor:"#EF4444",borderColor:"#EF4444",height:"48px",fontSize:"16px",paddingLeft:"24px",paddingRight:"24px"},children:"Start Watching"})})]})]})})]}),G&&V&&(0,s.jsx)("div",{id:"video-player",className:"jsx-7ce50f64811b28d3 bg-black py-4",children:(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 container mx-auto px-4",children:[(0,s.jsx)("div",{className:"jsx-7ce50f64811b28d3 mb-4",children:(0,s.jsx)(x.Ay,{type:"text",icon:(0,s.jsx)(A.A,{}),style:{color:"white"},onClick:()=>K(!1),children:"Back to Episodes"})}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 rounded overflow-hidden bg-gray-900",children:[(0,s.jsxs)("video",{ref:c,controls:!0,poster:eP((null==V?void 0:V.thumbnail)?V.thumbnail:null==C?void 0:C.image),onTimeUpdate:()=>{c.current&&(X(c.current.currentTime),$(c.current.duration),eR())},autoPlay:!0,className:"jsx-7ce50f64811b28d3 w-full aspect-video",children:[(0,s.jsx)("source",{src:"/videos/sample.mp4",type:"video/mp4",className:"jsx-7ce50f64811b28d3"}),"Your browser does not support the video tag."]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 p-4",children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex justify-between items-center mb-2",children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)("h3",{className:"jsx-7ce50f64811b28d3 text-lg font-semibold",children:V.title}),(0,s.jsxs)("p",{className:"jsx-7ce50f64811b28d3 text-sm text-gray-400",children:["Released: ",new Date(V.releaseDate).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex items-center space-x-2",children:[(0,s.jsx)(x.Ay,{type:"text",icon:(0,s.jsx)(S.A,{}),style:{color:"white"},children:"Download"}),(0,s.jsx)(x.Ay,{type:"text",icon:eo?(0,s.jsx)(k.A,{}):W?(0,s.jsx)(b.A,{style:{color:"white"}}):(0,s.jsx)(y.A,{style:{color:"white"}}),style:{color:"white"},onClick:eI,children:W?"Favorited":"Favorite"})]})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 flex items-center text-sm text-gray-400 mb-4",children:[(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 mr-2",children:eO(Q)}),(0,s.jsx)(u.A,{percent:Q/Z*100,showInfo:!1,strokeColor:"#EF4444",trailColor:"#374151",className:"flex-1"}),(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 ml-2",children:eO(Z)})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3 grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 text-xs text-gray-400",children:"Next Episode"}),I.find(e=>e.number===V.number+1)?(0,s.jsxs)(x.Ay,{type:"link",className:"p-0",onClick:()=>ez(I.find(e=>e.number===V.number+1)),children:["Episode ",V.number+1]}):(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-gray-500",children:"Not Available"})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 text-xs text-gray-400",children:"Quality"}),(0,s.jsx)(f.A,{menu:{items:[{key:"1080p",label:"1080p HD"},{key:"720p",label:"720p HD"},{key:"480p",label:"480p"},{key:"360p",label:"360p"}]},children:(0,s.jsxs)(x.Ay,{type:"link",className:"p-0",children:["1080p HD ",(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-xs",children:"▼"})]})})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 text-xs text-gray-400",children:"Audio"}),(0,s.jsx)(f.A,{menu:{items:[{key:"japanese",label:"Japanese"},{key:"english",label:"English"}]},children:(0,s.jsxs)(x.Ay,{type:"link",className:"p-0",children:["Japanese ",(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-xs",children:"▼"})]})})]}),(0,s.jsxs)("div",{className:"jsx-7ce50f64811b28d3",children:[(0,s.jsx)("p",{className:"jsx-7ce50f64811b28d3 text-xs text-gray-400",children:"Subtitles"}),(0,s.jsx)(f.A,{menu:{items:[{key:"english",label:"English"},{key:"spanish",label:"Spanish"},{key:"french",label:"French"},{key:"off",label:"Off"}]},children:(0,s.jsxs)(x.Ay,{type:"link",className:"p-0",children:["English ",(0,s.jsx)("span",{className:"jsx-7ce50f64811b28d3 text-xs",children:"▼"})]})})]})]})]})]})]})})]}):null}),(0,s.jsx)(i(),{id:"7ce50f64811b28d3",children:".episode-badge{position:absolute;top:8px;left:8px;background-color:#EF4444;color:white;font-size:.75rem;padding:2px 8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;z-index:5}.watch-now-btn:hover{opacity:.9;-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.favorite-btn:hover{opacity:.9}@media(max-width:640px){.h-64.md\\\\:h-96{height:12rem}.flex.space-x-2.justify-center.md\\\\:justify-end{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:8px}.flex.space-x-2.justify-center.md\\\\:justify-end .ant-btn{width:100%;margin-left:0!important;margin-right:0!important;height:36px!important}.flex.flex-wrap.justify-center.md\\\\:justify-start.gap-x-6{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex.flex-wrap.justify-center.md\\\\:justify-start.gap-x-6>div{width:48%;margin-bottom:12px}.ant-btn-text{padding:4px 8px}.grid.grid-cols-2.sm\\\\:grid-cols-4.gap-4{gap:8px}.grid.grid-cols-2.sm\\\\:grid-cols-4.gap-4 p,.grid.grid-cols-2.sm\\\\:grid-cols-4.gap-4 .ant-btn-link{font-size:.7rem}.w-32.h-44.md\\\\:w-40.md\\\\:h-56{width:6rem;height:8rem;margin:0 auto}h1.text-2xl.md\\\\:text-4xl{font-size:1.25rem;line-height:1.75rem;text-align:center}.flex.flex-wrap.justify-center.md\\\\:justify-start.gap-2{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.mt-8 .ant-btn{width:100%;height:40px!important}}.custom-rate .ant-rate-star{cursor:pointer;margin-right:4px;-webkit-transition:-webkit-transform.2s,color.2s;-moz-transition:-moz-transform.2s,color.2s;-o-transition:-o-transform.2s,color.2s;transition:-webkit-transform.2s,color.2s;transition:-moz-transform.2s,color.2s;transition:-o-transform.2s,color.2s;transition:transform.2s,color.2s}.custom-rate .ant-rate-star-first,.custom-rate .ant-rate-star-second{color:rgba(251,191,36,.4)}.custom-rate .ant-rate-star:hover .ant-rate-star-first,.custom-rate .ant-rate-star:hover .ant-rate-star-second{color:#F59E0B!important}.custom-rate .ant-rate-star:hover~.ant-rate-star .ant-rate-star-first,.custom-rate .ant-rate-star:hover~.ant-rate-star .ant-rate-star-second{color:rgba(251,191,36,.4)!important}.custom-rate .ant-rate-star:hover .ant-rate-star-first{color:#F59E0B!important}.custom-rate .ant-rate-star-half:hover .ant-rate-star-first{color:#F59E0B!important}.custom-rate .ant-rate-star-half:hover .ant-rate-star-second{color:rgba(251,191,36,.4)!important}.custom-rate .ant-rate-star-full .ant-rate-star-first,.custom-rate .ant-rate-star-full .ant-rate-star-second{color:#FBBF24!important}.custom-rate .ant-rate-star-half .ant-rate-star-first{color:#FBBF24!important}.custom-rate .ant-rate-star:hover{-webkit-transform:scale(1.4);-moz-transform:scale(1.4);-ms-transform:scale(1.4);-o-transform:scale(1.4);transform:scale(1.4);-webkit-transition:all.3s cubic-bezier(.18,.89,.32,1.28);-moz-transition:all.3s cubic-bezier(.18,.89,.32,1.28);-o-transition:all.3s cubic-bezier(.18,.89,.32,1.28);transition:all.3s cubic-bezier(.18,.89,.32,1.28)}.rating-container{display:inline-block}.rating-collapsed{cursor:pointer;padding:4px 8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.rating-collapsed:hover{background-color:rgba(255,255,255,.1)}.rating-trigger{color:#FBBF24;font-size:16px;margin-right:2px}.rating-expand{background-color:rgba(31,41,55,.8);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding:4px 8px;-webkit-transition:all.3s cubic-bezier(.18,.89,.32,1.28);-moz-transition:all.3s cubic-bezier(.18,.89,.32,1.28);-o-transition:all.3s cubic-bezier(.18,.89,.32,1.28);transition:all.3s cubic-bezier(.18,.89,.32,1.28);-webkit-transform-origin:center bottom;-moz-transform-origin:center bottom;-ms-transform-origin:center bottom;-o-transform-origin:center bottom;transform-origin:center bottom;-webkit-box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);-moz-box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.rating-active{-webkit-animation:pop-up.3s cubic-bezier(.18,.89,.32,1.28);-moz-animation:pop-up.3s cubic-bezier(.18,.89,.32,1.28);-o-animation:pop-up.3s cubic-bezier(.18,.89,.32,1.28);animation:pop-up.3s cubic-bezier(.18,.89,.32,1.28)}@-webkit-keyframes pop-up{0%{-webkit-transform:scale(.8);transform:scale(.8);opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes pop-up{0%{-moz-transform:scale(.8);transform:scale(.8);opacity:0}100%{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes pop-up{0%{-o-transform:scale(.8);transform:scale(.8);opacity:0}100%{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes pop-up{0%{-webkit-transform:scale(.8);-moz-transform:scale(.8);-o-transform:scale(.8);transform:scale(.8);opacity:0}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}"})]})}function T(){return(0,s.jsx)(o.Suspense,{fallback:(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-900",children:(0,s.jsx)(g.A,{size:"large"})}),children:(0,s.jsx)(z,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[275,48,217,963,953,441,684,358],()=>t(61904)),_N_E=e.O()}]);